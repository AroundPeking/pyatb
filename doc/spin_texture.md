# Spin texture

## introduction

Spin texture is a method of calculating the spin texture of a given energy band of certain k points.



## example

An example (refer to folder `example/MnBi2Te4-afm`) of calculating the spectral function of the AFM MnBi$_2$Te$_4$ slab is given here.

The `Input` file are:

```INPUT_PARAMETERS
{
    nspin               4
    package             ABACUS
    fermi_energy        6.750410495504203
    fermi_energy_unit   eV
    HR_route            data-HR-sparse_SPIN0.csr
    SR_route            data-SR-sparse_SPIN0.csr
    
    HR_unit             Ry
    rR_unit             Bohr
    max_kpoint_num        2
}

LATTICE
{
    lattice_constant   1.8897162
    lattice_constant_unit   Angstrom
    lattice_vector
    8.2759599686 0 0 
    -4.1379699708 7.1671742294 0 
    0 0 103.09400177 

}


SPIN_TEXTURE
{
    nband               2800
    kpoint_mode             direct
    kpoint_num             20
    kpoint_direct_coor
    1.000000000000000021e-02  0.000000000000000000e+00 0.000000000000000000e+00
    9.510565162951536283e-03  3.090169943749474218e-03 0.000000000000000000e+00
    8.090169943749473888e-03  5.877852522924731545e-03 0.000000000000000000e+00
    5.877852522924731545e-03  8.090169943749473888e-03 0.000000000000000000e+00
    3.090169943749474651e-03  9.510565162951536283e-03 0.000000000000000000e+00
    6.123233995736765959e-19  1.000000000000000021e-02 0.000000000000000000e+00
   -3.090169943749473350e-03  9.510565162951536283e-03 0.000000000000000000e+00
   -5.877852522924730677e-03  8.090169943749473888e-03 0.000000000000000000e+00
   -8.090169943749473888e-03  5.877852522924732412e-03 0.000000000000000000e+00
   -9.510565162951536283e-03  3.090169943749475085e-03 0.000000000000000000e+00
   -1.000000000000000021e-02  1.224646799147353192e-18 0.000000000000000000e+00
   -9.510565162951536283e-03 -3.090169943749472917e-03 0.000000000000000000e+00
   -8.090169943749475623e-03 -5.877852522924730677e-03 0.000000000000000000e+00
   -5.877852522924732412e-03 -8.090169943749473888e-03 0.000000000000000000e+00
   -3.090169943749475519e-03 -9.510565162951536283e-03 0.000000000000000000e+00
   -1.836970198721029595e-18 -1.000000000000000021e-02 0.000000000000000000e+00
    3.090169943749472483e-03 -9.510565162951536283e-03 0.000000000000000000e+00
    5.877852522924728942e-03 -8.090169943749475623e-03 0.000000000000000000e+00
    8.090169943749473888e-03 -5.877852522924734147e-03 0.000000000000000000e+00
    9.510565162951536283e-03 -3.090169943749476386e-03 0.000000000000000000e+00

}
```

`nband`: Denote the band number of which spin texture is calculated.

For the k point setting of this function, please refer to the `kpoint_mode` module.

After the task calculation is completed, there will be three files in the `Out/Spin_Texture` folder, namely `kpt.dat` and `spin_texture.dat`, `plot_unfold.py`, corresponding to the k-point and the spin texture, the drawing script.
